(function(e){function a(a){for(var n,i,l=a[0],s=a[1],c=a[2],m=0,d=[];m<l.length;m++)i=l[m],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);p&&p(a);while(d.length)d.shift()();return r.push.apply(r,c||[]),t()}function t(){for(var e,a=0;a<r.length;a++){for(var t=r[a],n=!0,l=1;l<t.length;l++){var s=t[l];0!==o[s]&&(n=!1)}n&&(r.splice(a--,1),e=i(i.s=t[0]))}return e}var n={},o={app:0},r=[];function i(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=n,i.d=function(e,a,t){i.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,a){if(1&a&&(e=i(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)i.d(t,n,function(a){return e[a]}.bind(null,n));return t},i.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(a,"a",a),a},i.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=a,l=l.slice();for(var c=0;c<l.length;c++)a(l[c]);var p=s;r.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"034f":function(e,a,t){"use strict";t("85ec")},"56d7":function(e,a,t){"use strict";t.r(a);t("e260"),t("e6cf"),t("cca6"),t("a79d");var n=t("2b0e"),o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-app",{attrs:{id:"app"}},[t("div",{staticStyle:{position:"absolute",top:"0px",right:"0px"}},[t("img",{attrs:{width:"300",height:"300",src:"https://redislabs.com/wp-content/uploads/2020/12/RedisLabs_Illustration_HomepageHero_v4.svg"}})]),t("h1",{staticClass:"text-center"},[e._v("Redis Leadboard Demo")]),t("div",{staticStyle:{height:"200px"}}),t("example")],1)},r=[],i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"example"},[t("v-row",[t("v-col",{attrs:{cols:"4"}},[t("div",{staticClass:"rank-section"},[t("div",{staticClass:"text-center font-weight-bold mb-5"},[e._v(" Select the menus below to update the rank of the companies ")]),t("v-select",{attrs:{items:e.companies,"item-text":"company","item-value":"symbol",placeholder:"Select a company",dense:"",outlined:""},model:{value:e.rankForm.symbol,callback:function(a){e.$set(e.rankForm,"symbol",a)},expression:"rankForm.symbol"}}),t("v-select",{attrs:{items:e.RANK_OP,placeholder:"Add or Subtract",dense:"",outlined:""},model:{value:e.rankForm.op,callback:function(a){e.$set(e.rankForm,"op",a)},expression:"rankForm.op"}}),t("v-select",{attrs:{items:e.AMOUNT_LIST,placeholder:"Select Amount",dense:"",outlined:""},model:{value:e.rankForm.amount,callback:function(a){e.$set(e.rankForm,"amount",a)},expression:"rankForm.amount"}}),t("v-btn",{attrs:{color:"primary",block:"",disabled:!e.isValid},on:{click:e.update}},[e._v(" Update ")])],1)]),t("v-col",{attrs:{cols:"8"}},[t("v-row",[t("v-col",{attrs:{cols:"6"}},[t("v-select",{attrs:{items:e.ACTION_LIST,dense:"",outlined:""},model:{value:e.method,callback:function(a){e.method=a},expression:"method"}})],1)],1),t("v-data-table",{attrs:{headers:e.headers,items:e.companies,loading:e.loading,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:e._u([{key:"item.rank",fn:function(a){var t=a.item;return[e._v(" "+e._s(t.rank)+" ")]}},{key:"item.company",fn:function(a){var n=a.item;return[t("div",{staticClass:"d-flex align-center my-2"},[t("div",[t("img",{staticClass:"mr-3",attrs:{src:"https://companiesmarketcap.com//img/company-logos/80/"+n.symbol.toUpperCase()+".png",width:"40",height:"40"}})]),t("div",[t("div",{},[e._v(e._s(n.company))]),t("div",{staticClass:"grey--text"},[e._v(e._s(n.symbol.toUpperCase()))])])])]}},{key:"item.marketCap",fn:function(a){var n=a.item;return[t("div",{},[e._v(e._s(e.formatUSD(n.marketCap)))])]}},{key:"no-data",fn:function(){return[t("span",[e._v(" No Results Found. ")])]},proxy:!0}])}),"paginate"===e.method?t("v-btn",{attrs:{color:"primary",block:""},on:{click:e.loadData}},[e._v(" Load next 10 ")]):e._e()],1)],1),t("v-row",{staticClass:"my-5"},[t("v-expansion-panels",{attrs:{multiple:""},model:{value:e.panel,callback:function(a){e.panel=a},expression:"panel"}},[t("v-expansion-panel",[t("v-expansion-panel-header",[e._v("How the data is stored:")]),t("v-expansion-panel-content",[t("ol",[t("li",[e._v("The company data is stored in a hash like below: "),t("pre",[e._v('HSET "company:AAPL" symbol "AAPL" market_cap "2600000000000" country USA  ')])]),t("li",[e._v("The Ranks are stored in a ZSET. "),t("pre",[e._v("ZADD companyLeaderboard 2600000000000 company:AAPL")])])])])],1),t("v-expansion-panel",[t("v-expansion-panel-header",[e._v("How the data is accessed:")]),t("v-expansion-panel-content",[t("ol",[t("li",[e._v("Top 10 companies: zrevrange companyLeaderboard 0 9 WITHSCORES ")]),t("li",[e._v("All companies: zrevange companyLeaderboard 0 -1 WITHSCORES ")]),t("li",[e._v("Bottom 10 companies: zrange companyLeaderboard 0 9 WITHSCORES")]),t("li",[e._v("Between rank 10 and 15: zrevange companyLeaderboard 9 14 WITHSCORES ")]),t("li",[e._v("Show ranks of AAPL, FB and TSLA: ZMSCORE companyLeaderBoard company:AAPL company:FB company:TSLA ")]),t("li",[e._v("Pagination: Show 1st 10 companies: ZSCAN 0 companyLeaderBoard COUNT 10 7.Pagination: Show next 10 companies: ZSCAN <return value from the 1st 10 companies> companyLeaderBoard COUNT 10 ")]),t("li",[e._v('Adding market cap to companies: ZINCRBY companyLeaderBoard 1000000000 "company:FB"')]),t("li",[e._v('Reducing market cap to companies: ZINCRBY companyLeaderBoard -1000000000 "company:FB"')]),t("li",[e._v("Companies over a Trillion: ZCOUNT companyLeaderBoard 1000000000000 +inf ")]),t("li",[e._v("# companies between 500 billion and 1 trillion: ZCOUNT companyLeaderBoard 500000000000 1000000000000")])])])],1)],1)],1)],1)},l=[],s=(t("99af"),t("b680"),t("96cf"),t("1da1")),c=t("bc3a"),p=t.n(c),m="localhost"===location.hostname?"http://localhost:5000/api":location.origin+"/api",d=1e12,u=1e9,v=1e6,f={name:"Example",components:{},props:{},data:function(){return{loading:!1,companies:[],headers:[{text:"Rank",value:"rank",sortable:!1},{text:"Name",value:"company",sortable:!1},{text:"Market Cap",value:"marketCap",sortable:!1},{text:"Country",value:"country",sortable:!1}],method:"top10",RANK_OP:[{text:"Add",value:"add"},{text:"Subtract",value:"subtract"}],AMOUNT_LIST:[{text:"10 Billions",value:10*u},{text:"100 Billions",value:100*u},{text:"1 Trillion",value:d},{text:"2 Trillion",value:2*d}],rankForm:{symbol:"",op:"",amount:""},startPaginate:0,ACTION_LIST:[{text:"Top 10 companies",value:"top10"},{text:"All companies",value:"all"},{text:"Bottom 10 companies",value:"bottom10"},{text:"Between Rank 10 & 15",value:"inRank?start=9&end=14"},{text:"Show Ranks of AAPL, FB and TSLA",value:"getBySymbol?symbols[]=aapl&symbols[]=fb&symbols[]=tsla"},{text:"Pagination: Show 1st 10",value:"paginate"}]}},computed:{isValid:function(){return!!this.rankForm.symbol&&!!this.rankForm.op&&!!this.rankForm.amount}},watch:{method:{handler:function(){this.loadData()},immediate:!0}},created:function(){},methods:{update:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.prev=1,t={symbol:e.rankForm.symbol,amount:"add"===e.rankForm.op?e.rankForm.amount:-1*e.rankForm.amount},a.next=5,p.a.get("".concat(m,"/rank/update"),{params:t});case 5:e.rankForm={symbol:"",op:"",amount:""},e.loadData(),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),console.log(a.t0);case 12:e.loading=!1;case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()},loadData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var t,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.prev=1,t=e.method,"paginate"===e.method&&(t="inRank?start=".concat(e.startPaginate,"&end=").concat(e.startPaginate+10),e.startPaginate+=10),a.next=6,p.a.get("".concat(m,"/list/").concat(t));case 6:n=a.sent,e.companies=n.data,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0);case 13:e.loading=!1;case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},formatUSD:function(e){return e>d?"$ ".concat((e/d).toFixed(3)," T"):e>u?"$ ".concat((e/u).toFixed(2)," B"):e>v?"$ ".concat((e/v).toFixed(1)," M"):"$ ".concat(e)}}},h=f,b=(t("7dc5"),t("2877")),y=t("6544"),x=t.n(y),k=t("8336"),g=t("62ad"),_=t("a523"),S=t("8fea"),w=t("cd55"),C=t("49e2"),A=t("c865"),T=t("0393"),O=t("0fd9"),L=t("b974"),F=Object(b["a"])(h,i,l,!1,null,"22102f3a",null),P=F.exports;x()(F,{VBtn:k["a"],VCol:g["a"],VContainer:_["a"],VDataTable:S["a"],VExpansionPanel:w["a"],VExpansionPanelContent:C["a"],VExpansionPanelHeader:A["a"],VExpansionPanels:T["a"],VRow:O["a"],VSelect:L["a"]});var R={name:"App",components:{Example:P}},B=R,N=(t("034f"),t("7496")),E=Object(b["a"])(B,o,r,!1,null,null,null),j=E.exports;x()(E,{VApp:N["a"]});var I=t("f309");n["a"].use(I["a"]);var V=new I["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:V,render:function(e){return e(j)}}).$mount("#app")},"613d":function(e,a,t){},"7dc5":function(e,a,t){"use strict";t("613d")},"85ec":function(e,a,t){}});
//# sourceMappingURL=app.df6934b5.js.map